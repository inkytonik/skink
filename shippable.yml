
language: scala

scala:
  - 2.11.8

before_script:
  - echo 'deb http://ppa.launchpad.net/ubuntu-toolchain-r/test/ubuntu trusty main' >> /etc/apt/sources.list
  - echo 'deb-src http://ppa.launchpad.net/ubuntu-toolchain-r/test/ubuntu trusty main' >> /etc/apt/sources.list
  - echo 'deb http://dl.bintray.com/sbt/debian /' >> /etc/apt/sources.list
  - apt-get update
  - apt-get install -y --force-yes mercurial
  - apt-get install -y --force-yes sbt
  - apt-get install -y --force-yes unzip
  - wget --no-check-certificate http://llvm.org/releases/3.7.1/clang+llvm-3.7.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz
  - tar xvf clang+llvm-3.7.1-x86_64-linux-gnu-ubuntu-14.04.tar.xz 
  - cd clang+llvm-3.7.1-x86_64-linux-gnu-ubuntu-14.04/
  - cp -R * /usr/local
  - cd -
  - wget --no-check-certificate https://github.com/Z3Prover/z3/releases/download/z3-4.4.1/z3-4.4.1-x64-ubuntu-14.04.zip
  - unzip z3-4.4.1-x64-ubuntu-14.04.zip
  - cd clang+llvm-3.7.1-x86_64-linux-gnu-ubuntu-14.04/
  - cp -R * /usr/local
  - cd - 
  - wget --no-check-certificate https://github.com/aglover/ubuntu-equip/raw/master/equip_java8.sh && bash equip_java8.sh
  - wget --no-check-certificate https://ultimate.informatik.uni-freiburg.de/smtinterpol/smtinterpol.jar && mv smtinterpol.jar /usr/bin/.
  - echo "export OPT=opt" >> ~/.profile
  - hg clone https://bitbucket.org/inkytonik/sbt-rats
  - cd sbt-rats; sbt publish-local; cd -
  - hg clone https://bitbucket.org/inkytonik/kiama
  - cd kiama; sbt publish-local; sbt "test:publish-local"; cd -
  - hg clone ssh://hg@bitbucket.org/inkytonik/scalallvm
  - cd scalallvm; sbt publish-local; cd -
  - git clone git@bitbucket.org:franck44/automat.git
  - cd automat; sbt publish-local; cd -
  - git clone git@bitbucket.org:franck44/mq-scala-smtlib.git
  - cd mq-scala-smtlib; sbt publish-local; cd -

script:
    - sbt clean test

jdk:
  - oraclejdk8

build:

ci:
  - java -version
  - echo $SHIPPABLE_SCALA_VERSION